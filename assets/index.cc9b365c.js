const I=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function c(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function u(t){if(t.ep)return;t.ep=!0;const e=c(t);fetch(t.href,e)}};I();var h=document.querySelector("#app");const d=new URLSearchParams(window.location.search);document.querySelector("#stream").value=localStorage.getItem("stream");d.get("stream")!=null&&localStorage.setItem("stream",d.get("stream"));(d.get("stream")!=null||d.get("stream")!=null)&&document.querySelector("#prompt").remove();const x=new tmi.Client({connection:{secure:!0,reconnect:!0},channels:[d.get("stream")]});x.connect();var o=0;x.on("message",(b,l,c,u)=>{console.log(`${l["display-name"]}: ${c}`);var t=document.createElement("div"),e=document.createElement("div");e.classList.add("title-bar"),e.onmousedown=function(i){e.classList.add("active"),e.addEventListener("mousemove",f),n.style.zIndex=o,o=o+1},e.onmouseup=function(i){e.classList.remove("active"),e.removeEventListener("mousemove",f),n.style.zIndex=o,o=o+1},e.onmouseleave=function(i){e.classList.remove("active"),e.removeEventListener("mousemove",f)};var r=document.createElement("div");r.innerHTML=`${l["display-name"]}`,r.classList.add("title-bar-text");var a=document.createElement("div");a.classList.add("title-bar-controls");var g=document.createElement("button");g.ariaLabel="Minimize",a.appendChild(g);var y=document.createElement("button");y.ariaLabel="Maximize",a.appendChild(y);var p=document.createElement("button");p.ariaLabel="Close",p.onclick=function(i){t.remove()},a.appendChild(p),e.appendChild(r),e.appendChild(a);var v=document.createElement("div");v.classList.add("window-body");var w=document.createElement("p");w.innerHTML=` ${c} `,v.appendChild(w),t.appendChild(e),t.appendChild(v);var n=h.appendChild(t);function f({movementX:i,movementY:C}){let L=window.getComputedStyle(n),E=parseInt(L.left),z=parseInt(L.top);n.style.left=`${E+i}px`,n.style.top=`${z+C}px`}var m=Math.floor(Math.random()*window.innerHeight),s=Math.floor(Math.random()*window.innerWidth);s<window.innerWidth+250&&s>250&&(s=s-250),m>window.innerHeight-t.clientHeight&&(m=m-t.clientHeight),n.classList.add("window"),n.style.width="250px",n.style.position="fixed",n.style.right=s+"px",n.style.top=m+"px",n.style.zIndex=o,n.onclick=function(i){console.log(i),n.style.zIndex=o,o=o+1},o=o+1,h.children.length>1e3&&h.children[0].remove()});
